Multiplexação e demultiplexação

A multiplexação e a demultiplexação fornecem um serviço de entrega, processo a processo para aplicações executadas nos hospedeiros.

No hospedeiro destino, a camada de transporte recebe segmentos de dados da camada de rede, tendo a responsabilidade de entregá-los ao processo de aplicação correto.


Um processo pode ter um ou mais endereços de transporte (conhecidos como portas na arquitetura TCP/IP) pelos quais dados passam da rede para o processo – e vice-versa.

Desse modo, a camada de transporte do hospedeiro destino os entrega diretamente a uma porta.


Como o hospedeiro destino direciona à porta correta um segmento que chega?

Para essa finalidade, cada segmento da camada de transporte tem um conjunto de campos de endereçamento no cabeçalho. No receptor, a camada de transporte examina esses campos para identificar a porta receptora e direcionar o segmento a ela. A tarefa de entregar os dados contidos em um segmento para a porta correta é denominada demultiplexação.

Já a multiplexação consiste no trabalho de, no hospedeiro origem:

 

Reunir porções de dados provenientes de diferentes portas.
Encapsular cada porção de dados com as informações de cabeçalho (as quais, mais tarde, serão usadas na demultiplexação) para criar segmentos.
Passar os segmentos para a camada de rede.

Vejamos um exemplo, vamos pensar no computador que Eduardo utiliza em suas atividades.



O exemplo de Eduardo

Navegando na web, ele acessa seu e-mail e faz o download de arquivos usando um programa específico para isso.

De fato, o objetivo da multiplexação é possibilitar uma melhor utilização do meio de comunicação ao permitir que ele seja compartilhado pelos diversos programas utilizados.



Modos de uso

Eduardo utiliza a Internet, cujo protocolo de transporte é o TCP.



A multiplexação

Todos os programas operados por ele (browser web, cliente de e-mail e programa de transferência de arquivos) utilizam o TCP, que fará a transferência da informação até o destino.

A multiplexação, portanto, permite que vários programas possam utilizar o TCP ao mesmo tempo, fazendo, assim, com que Eduardo possa ter tantos programas quanto queira ao acessar a rede.




Como o TCP sabe quem é quem?

Para fazer uso dele, um processo deve se registrar em uma porta (endereço de transporte) do protocolo TCP. Servidores possuem portas conhecidas, mas programas clientes se registram nas aleatórias.

Vamos supor que os programas de Eduardo se registraram nas seguintes portas:


Browser web


11278.


Cliente de e-mail


25786.


Transferência de arquivos


3709.


Dessa maneira, o TCP pode identificar cada uma. Quando o browser envia uma solicitação a um servidor web, o TCP coloca na informação enviada o número de porta 11278. O servidor, portanto, já sabe que deve responder-lhe enviando a resposta para essa porta.

Observemos, por fim, a multiplexação e a demultiplexação na prática:


Multiplexação

Ao receber mensagens das aplicações para envio, o protocolo de transporte as identifica por seus respectivos números de porta, permitindo, assim, que várias aplicações possam utilizá-los ao mesmo tempo.


Demultiplexação

Quando recebe as mensagens do hospedeiro remoto para entregá-las em cada aplicação, o protocolo de transporte verifica o número da porta destino que a mensagem carrega e a entrega para o processo registrado nela.